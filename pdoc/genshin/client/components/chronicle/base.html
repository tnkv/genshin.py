<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>genshin.client.components.chronicle.base API documentation</title>
<meta name="description" content="Base battle chronicle component." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>genshin.client.components.chronicle.base</code></h1>
</header>
<section id="section-intro">
<p>Base battle chronicle component.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Base battle chronicle component.&#34;&#34;&#34;

import asyncio
import dataclasses
import typing
import warnings

from genshin import errors, models, types, utility
from genshin.client import cache, routes
from genshin.client.components import base
from genshin.client.manager import managers
from genshin.models import hoyolab as hoyolab_models
from genshin.utility import deprecation

__all__ = [&#34;BaseBattleChronicleClient&#34;]


@dataclasses.dataclass(unsafe_hash=True)
class HoyolabCacheKey(cache.CacheKey):
    endpoint: str
    hoyolab_id: int
    lang: str


@dataclasses.dataclass(unsafe_hash=True)
class ChronicleCacheKey(cache.CacheKey):
    def __str__(self) -&gt; str:
        return &#34;chronicle&#34; + &#34;:&#34; + super().__str__()

    game: types.Game
    endpoint: str
    uid: int
    lang: str
    params: typing.Tuple[typing.Any, ...] = ()


class BaseBattleChronicleClient(base.BaseClient):
    &#34;&#34;&#34;Base battle chronicle component.&#34;&#34;&#34;

    async def request_game_record(
        self,
        endpoint: str,
        *,
        lang: typing.Optional[str] = None,
        region: typing.Optional[types.Region] = None,
        game: typing.Optional[types.Game] = None,
        **kwargs: typing.Any,
    ) -&gt; typing.Mapping[str, typing.Any]:
        &#34;&#34;&#34;Make a request towards the game record endpoint.&#34;&#34;&#34;
        base_url = routes.RECORD_URL.get_url(region or self.region)

        if game:
            base_url = base_url / game.value / &#34;api&#34;

        url = base_url / endpoint

        mi18n_task = asyncio.create_task(self._fetch_mi18n(&#34;bbs&#34;, lang=lang or self.lang))
        update_task = asyncio.create_task(utility.update_characters_any(lang or self.lang, lenient=True))

        data = await self.request_hoyolab(url, lang=lang, region=region, **kwargs)

        await mi18n_task
        try:
            await update_task
        except Exception as e:
            warnings.warn(f&#34;Failed to update characters: {e!r}&#34;)

        return data

    async def get_record_cards(
        self,
        hoyolab_id: typing.Optional[int] = None,
        *,
        lang: typing.Optional[str] = None,
    ) -&gt; typing.List[models.hoyolab.RecordCard]:
        &#34;&#34;&#34;Get a user&#39;s record cards.&#34;&#34;&#34;
        hoyolab_id = hoyolab_id or self._get_hoyolab_id()

        cache_key = cache.cache_key(&#34;records&#34;, hoyolab_id=hoyolab_id, lang=lang or self.lang)
        if not (data := await self.cache.get(cache_key)):
            data = await self.request_game_record(
                &#34;card/wapi/getGameRecordCard&#34;,
                lang=lang,
                params=dict(uid=hoyolab_id),
            )

            if data[&#34;list&#34;]:
                await self.cache.set(cache_key, data)
            else:
                raise errors.DataNotPublic({&#34;retcode&#34;: 10102})

        return [models.hoyolab.RecordCard(**card) for card in data[&#34;list&#34;]]

    @deprecation.deprecated(&#34;get_record_cards&#34;)
    async def get_record_card(
        self,
        hoyolab_id: typing.Optional[int] = None,
        *,
        lang: typing.Optional[str] = None,
    ) -&gt; models.hoyolab.RecordCard:
        &#34;&#34;&#34;Get a user&#39;s record card.&#34;&#34;&#34;
        cards = await self.get_record_cards(hoyolab_id, lang=lang)
        return cards[0]

    @managers.no_multi
    async def update_settings(
        self,
        setting: types.IDOr[hoyolab_models.RecordCardSetting],
        on: bool,
        *,
        game: typing.Optional[types.Game] = None,
    ) -&gt; None:
        &#34;&#34;&#34;Update user settings.

        Setting IDs:
            1: Show your Battle Chronicle on your profile.
            2: Show your Character Details in the Battle Chronicle.
            3: Enable your Real-Time Notes. (only for Genshin Impact)
        &#34;&#34;&#34;
        if game is types.Game.STARRAIL or self.default_game is types.Game.STARRAIL:
            raise RuntimeError(&#34;Star Rail does not provide a Battle Chronicle or Real-Time Notes.&#34;)

        if game is None and int(setting) == 3:
            game = types.Game.GENSHIN

        if game is None:
            if self.default_game is None:
                raise RuntimeError(&#34;No default game set.&#34;)

            game = self.default_game

        game_id = {types.Game.HONKAI: 1, types.Game.GENSHIN: 2, types.Game.STARRAIL: 6}[game]

        await self.request_game_record(
            &#34;card/wapi/changeDataSwitch&#34;,
            method=&#34;POST&#34;,
            data=dict(switch_id=int(setting), is_public=on, game_id=game_id),
        )

    @deprecation.deprecated(&#34;update_settings&#34;)
    async def set_visibility(self, public: bool, *, game: typing.Optional[types.Game] = None) -&gt; None:
        &#34;&#34;&#34;Set your data to public or private.&#34;&#34;&#34;
        await self.update_settings(1, public, game=game)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="genshin.client.components.chronicle.base.BaseBattleChronicleClient"><code class="flex name class">
<span>class <span class="ident">BaseBattleChronicleClient</span></span>
<span>(</span><span>cookies: Union[ForwardRef('http.cookies.BaseCookie[Any]'), Mapping[Any, Any], str, Sequence[Union[ForwardRef('http.cookies.BaseCookie[Any]'), Mapping[Any, Any], str]], ForwardRef(None)] = None, *, authkey: Optional[str] = None, lang: str = 'en-us', region: <a title="genshin.types.Region" href="../../../types.html#genshin.types.Region">Region</a> = Region.OVERSEAS, proxy: Optional[str] = None, game: Optional[<a title="genshin.types.Game" href="../../../types.html#genshin.types.Game">Game</a>] = None, uid: Optional[int] = None, hoyolab_id: Optional[int] = None, cache: Optional[<a title="genshin.client.cache.Cache" href="../../cache.html#genshin.client.cache.Cache">Cache</a>] = None, debug: bool = False)</span>
</code></dt>
<dd>
<div class="desc"><p>Base battle chronicle component.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class BaseBattleChronicleClient(base.BaseClient):
    &#34;&#34;&#34;Base battle chronicle component.&#34;&#34;&#34;

    async def request_game_record(
        self,
        endpoint: str,
        *,
        lang: typing.Optional[str] = None,
        region: typing.Optional[types.Region] = None,
        game: typing.Optional[types.Game] = None,
        **kwargs: typing.Any,
    ) -&gt; typing.Mapping[str, typing.Any]:
        &#34;&#34;&#34;Make a request towards the game record endpoint.&#34;&#34;&#34;
        base_url = routes.RECORD_URL.get_url(region or self.region)

        if game:
            base_url = base_url / game.value / &#34;api&#34;

        url = base_url / endpoint

        mi18n_task = asyncio.create_task(self._fetch_mi18n(&#34;bbs&#34;, lang=lang or self.lang))
        update_task = asyncio.create_task(utility.update_characters_any(lang or self.lang, lenient=True))

        data = await self.request_hoyolab(url, lang=lang, region=region, **kwargs)

        await mi18n_task
        try:
            await update_task
        except Exception as e:
            warnings.warn(f&#34;Failed to update characters: {e!r}&#34;)

        return data

    async def get_record_cards(
        self,
        hoyolab_id: typing.Optional[int] = None,
        *,
        lang: typing.Optional[str] = None,
    ) -&gt; typing.List[models.hoyolab.RecordCard]:
        &#34;&#34;&#34;Get a user&#39;s record cards.&#34;&#34;&#34;
        hoyolab_id = hoyolab_id or self._get_hoyolab_id()

        cache_key = cache.cache_key(&#34;records&#34;, hoyolab_id=hoyolab_id, lang=lang or self.lang)
        if not (data := await self.cache.get(cache_key)):
            data = await self.request_game_record(
                &#34;card/wapi/getGameRecordCard&#34;,
                lang=lang,
                params=dict(uid=hoyolab_id),
            )

            if data[&#34;list&#34;]:
                await self.cache.set(cache_key, data)
            else:
                raise errors.DataNotPublic({&#34;retcode&#34;: 10102})

        return [models.hoyolab.RecordCard(**card) for card in data[&#34;list&#34;]]

    @deprecation.deprecated(&#34;get_record_cards&#34;)
    async def get_record_card(
        self,
        hoyolab_id: typing.Optional[int] = None,
        *,
        lang: typing.Optional[str] = None,
    ) -&gt; models.hoyolab.RecordCard:
        &#34;&#34;&#34;Get a user&#39;s record card.&#34;&#34;&#34;
        cards = await self.get_record_cards(hoyolab_id, lang=lang)
        return cards[0]

    @managers.no_multi
    async def update_settings(
        self,
        setting: types.IDOr[hoyolab_models.RecordCardSetting],
        on: bool,
        *,
        game: typing.Optional[types.Game] = None,
    ) -&gt; None:
        &#34;&#34;&#34;Update user settings.

        Setting IDs:
            1: Show your Battle Chronicle on your profile.
            2: Show your Character Details in the Battle Chronicle.
            3: Enable your Real-Time Notes. (only for Genshin Impact)
        &#34;&#34;&#34;
        if game is types.Game.STARRAIL or self.default_game is types.Game.STARRAIL:
            raise RuntimeError(&#34;Star Rail does not provide a Battle Chronicle or Real-Time Notes.&#34;)

        if game is None and int(setting) == 3:
            game = types.Game.GENSHIN

        if game is None:
            if self.default_game is None:
                raise RuntimeError(&#34;No default game set.&#34;)

            game = self.default_game

        game_id = {types.Game.HONKAI: 1, types.Game.GENSHIN: 2, types.Game.STARRAIL: 6}[game]

        await self.request_game_record(
            &#34;card/wapi/changeDataSwitch&#34;,
            method=&#34;POST&#34;,
            data=dict(switch_id=int(setting), is_public=on, game_id=game_id),
        )

    @deprecation.deprecated(&#34;update_settings&#34;)
    async def set_visibility(self, public: bool, *, game: typing.Optional[types.Game] = None) -&gt; None:
        &#34;&#34;&#34;Set your data to public or private.&#34;&#34;&#34;
        await self.update_settings(1, public, game=game)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="genshin.client.components.base.BaseClient" href="../base.html#genshin.client.components.base.BaseClient">BaseClient</a></li>
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="genshin.client.components.chronicle.genshin.GenshinBattleChronicleClient" href="genshin.html#genshin.client.components.chronicle.genshin.GenshinBattleChronicleClient">GenshinBattleChronicleClient</a></li>
<li><a title="genshin.client.components.chronicle.honkai.HonkaiBattleChronicleClient" href="honkai.html#genshin.client.components.chronicle.honkai.HonkaiBattleChronicleClient">HonkaiBattleChronicleClient</a></li>
<li><a title="genshin.client.components.chronicle.starrail.StarRailBattleChronicleClient" href="starrail.html#genshin.client.components.chronicle.starrail.StarRailBattleChronicleClient">StarRailBattleChronicleClient</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="genshin.client.components.chronicle.base.BaseBattleChronicleClient.logger"><code class="name">var <span class="ident">logger</span> : logging.Logger</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="genshin.client.components.chronicle.base.BaseBattleChronicleClient.get_record_card"><code class="name flex">
<span>async def <span class="ident">get_record_card</span></span>(<span>self, hoyolab_id: Optional[int] = None, *, lang: Optional[str] = None) ‑> <a title="genshin.models.hoyolab.record.RecordCard" href="../../../models/hoyolab/record.html#genshin.models.hoyolab.record.RecordCard">RecordCard</a></span>
</code></dt>
<dd>
<div class="desc"><p>Get a user's record card.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function is deprecated and will be removed in the following version.
You can use <code>get_record_cards</code> instead.</p>
</div></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@deprecation.deprecated(&#34;get_record_cards&#34;)
async def get_record_card(
    self,
    hoyolab_id: typing.Optional[int] = None,
    *,
    lang: typing.Optional[str] = None,
) -&gt; models.hoyolab.RecordCard:
    &#34;&#34;&#34;Get a user&#39;s record card.&#34;&#34;&#34;
    cards = await self.get_record_cards(hoyolab_id, lang=lang)
    return cards[0]</code></pre>
</details>
</dd>
<dt id="genshin.client.components.chronicle.base.BaseBattleChronicleClient.get_record_cards"><code class="name flex">
<span>async def <span class="ident">get_record_cards</span></span>(<span>self, hoyolab_id: Optional[int] = None, *, lang: Optional[str] = None) ‑> List[<a title="genshin.models.hoyolab.record.RecordCard" href="../../../models/hoyolab/record.html#genshin.models.hoyolab.record.RecordCard">RecordCard</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>Get a user's record cards.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def get_record_cards(
    self,
    hoyolab_id: typing.Optional[int] = None,
    *,
    lang: typing.Optional[str] = None,
) -&gt; typing.List[models.hoyolab.RecordCard]:
    &#34;&#34;&#34;Get a user&#39;s record cards.&#34;&#34;&#34;
    hoyolab_id = hoyolab_id or self._get_hoyolab_id()

    cache_key = cache.cache_key(&#34;records&#34;, hoyolab_id=hoyolab_id, lang=lang or self.lang)
    if not (data := await self.cache.get(cache_key)):
        data = await self.request_game_record(
            &#34;card/wapi/getGameRecordCard&#34;,
            lang=lang,
            params=dict(uid=hoyolab_id),
        )

        if data[&#34;list&#34;]:
            await self.cache.set(cache_key, data)
        else:
            raise errors.DataNotPublic({&#34;retcode&#34;: 10102})

    return [models.hoyolab.RecordCard(**card) for card in data[&#34;list&#34;]]</code></pre>
</details>
</dd>
<dt id="genshin.client.components.chronicle.base.BaseBattleChronicleClient.request_game_record"><code class="name flex">
<span>async def <span class="ident">request_game_record</span></span>(<span>self, endpoint: str, *, lang: Optional[str] = None, region: Optional[<a title="genshin.types.Region" href="../../../types.html#genshin.types.Region">Region</a>] = None, game: Optional[<a title="genshin.types.Game" href="../../../types.html#genshin.types.Game">Game</a>] = None, **kwargs: Any) ‑> Mapping[str, Any]</span>
</code></dt>
<dd>
<div class="desc"><p>Make a request towards the game record endpoint.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def request_game_record(
    self,
    endpoint: str,
    *,
    lang: typing.Optional[str] = None,
    region: typing.Optional[types.Region] = None,
    game: typing.Optional[types.Game] = None,
    **kwargs: typing.Any,
) -&gt; typing.Mapping[str, typing.Any]:
    &#34;&#34;&#34;Make a request towards the game record endpoint.&#34;&#34;&#34;
    base_url = routes.RECORD_URL.get_url(region or self.region)

    if game:
        base_url = base_url / game.value / &#34;api&#34;

    url = base_url / endpoint

    mi18n_task = asyncio.create_task(self._fetch_mi18n(&#34;bbs&#34;, lang=lang or self.lang))
    update_task = asyncio.create_task(utility.update_characters_any(lang or self.lang, lenient=True))

    data = await self.request_hoyolab(url, lang=lang, region=region, **kwargs)

    await mi18n_task
    try:
        await update_task
    except Exception as e:
        warnings.warn(f&#34;Failed to update characters: {e!r}&#34;)

    return data</code></pre>
</details>
</dd>
<dt id="genshin.client.components.chronicle.base.BaseBattleChronicleClient.set_visibility"><code class="name flex">
<span>async def <span class="ident">set_visibility</span></span>(<span>self, public: bool, *, game: Optional[<a title="genshin.types.Game" href="../../../types.html#genshin.types.Game">Game</a>] = None) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Set your data to public or private.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function is deprecated and will be removed in the following version.
You can use <code>update_settings</code> instead.</p>
</div></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@deprecation.deprecated(&#34;update_settings&#34;)
async def set_visibility(self, public: bool, *, game: typing.Optional[types.Game] = None) -&gt; None:
    &#34;&#34;&#34;Set your data to public or private.&#34;&#34;&#34;
    await self.update_settings(1, public, game=game)</code></pre>
</details>
</dd>
<dt id="genshin.client.components.chronicle.base.BaseBattleChronicleClient.update_settings"><code class="name flex">
<span>async def <span class="ident">update_settings</span></span>(<span>self, setting: Union[int, <a title="genshin.models.hoyolab.record.RecordCardSetting" href="../../../models/hoyolab/record.html#genshin.models.hoyolab.record.RecordCardSetting">RecordCardSetting</a>], on: bool, *, game: Optional[<a title="genshin.types.Game" href="../../../types.html#genshin.types.Game">Game</a>] = None) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Update user settings.</p>
<p>Setting IDs:
1: Show your Battle Chronicle on your profile.
2: Show your Character Details in the Battle Chronicle.
3: Enable your Real-Time Notes. (only for Genshin Impact)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@managers.no_multi
async def update_settings(
    self,
    setting: types.IDOr[hoyolab_models.RecordCardSetting],
    on: bool,
    *,
    game: typing.Optional[types.Game] = None,
) -&gt; None:
    &#34;&#34;&#34;Update user settings.

    Setting IDs:
        1: Show your Battle Chronicle on your profile.
        2: Show your Character Details in the Battle Chronicle.
        3: Enable your Real-Time Notes. (only for Genshin Impact)
    &#34;&#34;&#34;
    if game is types.Game.STARRAIL or self.default_game is types.Game.STARRAIL:
        raise RuntimeError(&#34;Star Rail does not provide a Battle Chronicle or Real-Time Notes.&#34;)

    if game is None and int(setting) == 3:
        game = types.Game.GENSHIN

    if game is None:
        if self.default_game is None:
            raise RuntimeError(&#34;No default game set.&#34;)

        game = self.default_game

    game_id = {types.Game.HONKAI: 1, types.Game.GENSHIN: 2, types.Game.STARRAIL: 6}[game]

    await self.request_game_record(
        &#34;card/wapi/changeDataSwitch&#34;,
        method=&#34;POST&#34;,
        data=dict(switch_id=int(setting), is_public=on, game_id=game_id),
    )</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="genshin.client.components.base.BaseClient" href="../base.html#genshin.client.components.base.BaseClient">BaseClient</a></b></code>:
<ul class="hlist">
<li><code><a title="genshin.client.components.base.BaseClient.authkey" href="../base.html#genshin.client.components.base.BaseClient.authkey">authkey</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.authkeys" href="../base.html#genshin.client.components.base.BaseClient.authkeys">authkeys</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.cache" href="../base.html#genshin.client.components.base.BaseClient.cache">cache</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.cookie_manager" href="../base.html#genshin.client.components.base.BaseClient.cookie_manager">cookie_manager</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.debug" href="../base.html#genshin.client.components.base.BaseClient.debug">debug</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.default_game" href="../base.html#genshin.client.components.base.BaseClient.default_game">default_game</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.game" href="../base.html#genshin.client.components.base.BaseClient.game">game</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.genshin_accounts" href="../base.html#genshin.client.components.base.BaseClient.genshin_accounts">genshin_accounts</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.get_game_accounts" href="../base.html#genshin.client.components.base.BaseClient.get_game_accounts">get_game_accounts</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.hoyolab_id" href="../base.html#genshin.client.components.base.BaseClient.hoyolab_id">hoyolab_id</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.lang" href="../base.html#genshin.client.components.base.BaseClient.lang">lang</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.proxy" href="../base.html#genshin.client.components.base.BaseClient.proxy">proxy</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.region" href="../base.html#genshin.client.components.base.BaseClient.region">region</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.request" href="../base.html#genshin.client.components.base.BaseClient.request">request</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.request_bbs" href="../base.html#genshin.client.components.base.BaseClient.request_bbs">request_bbs</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.request_hoyolab" href="../base.html#genshin.client.components.base.BaseClient.request_hoyolab">request_hoyolab</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.request_webstatic" href="../base.html#genshin.client.components.base.BaseClient.request_webstatic">request_webstatic</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.set_authkey" href="../base.html#genshin.client.components.base.BaseClient.set_authkey">set_authkey</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.set_browser_cookies" href="../base.html#genshin.client.components.base.BaseClient.set_browser_cookies">set_browser_cookies</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.set_cache" href="../base.html#genshin.client.components.base.BaseClient.set_cache">set_cache</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.set_cookies" href="../base.html#genshin.client.components.base.BaseClient.set_cookies">set_cookies</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.set_redis_cache" href="../base.html#genshin.client.components.base.BaseClient.set_redis_cache">set_redis_cache</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.uid" href="../base.html#genshin.client.components.base.BaseClient.uid">uid</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.uids" href="../base.html#genshin.client.components.base.BaseClient.uids">uids</a></code></li>
<li><code><a title="genshin.client.components.base.BaseClient.update_mi18n" href="../base.html#genshin.client.components.base.BaseClient.update_mi18n">update_mi18n</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="genshin.client.components.chronicle" href="index.html">genshin.client.components.chronicle</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="genshin.client.components.chronicle.base.BaseBattleChronicleClient" href="#genshin.client.components.chronicle.base.BaseBattleChronicleClient">BaseBattleChronicleClient</a></code></h4>
<ul class="two-column">
<li><code><a title="genshin.client.components.chronicle.base.BaseBattleChronicleClient.get_record_card" href="#genshin.client.components.chronicle.base.BaseBattleChronicleClient.get_record_card">get_record_card</a></code></li>
<li><code><a title="genshin.client.components.chronicle.base.BaseBattleChronicleClient.get_record_cards" href="#genshin.client.components.chronicle.base.BaseBattleChronicleClient.get_record_cards">get_record_cards</a></code></li>
<li><code><a title="genshin.client.components.chronicle.base.BaseBattleChronicleClient.logger" href="#genshin.client.components.chronicle.base.BaseBattleChronicleClient.logger">logger</a></code></li>
<li><code><a title="genshin.client.components.chronicle.base.BaseBattleChronicleClient.request_game_record" href="#genshin.client.components.chronicle.base.BaseBattleChronicleClient.request_game_record">request_game_record</a></code></li>
<li><code><a title="genshin.client.components.chronicle.base.BaseBattleChronicleClient.set_visibility" href="#genshin.client.components.chronicle.base.BaseBattleChronicleClient.set_visibility">set_visibility</a></code></li>
<li><code><a title="genshin.client.components.chronicle.base.BaseBattleChronicleClient.update_settings" href="#genshin.client.components.chronicle.base.BaseBattleChronicleClient.update_settings">update_settings</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>